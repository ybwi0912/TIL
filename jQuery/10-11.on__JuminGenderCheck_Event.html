<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>10-11</title>

<script src="../js/jquery-3.6.1.min.js"></script>
    <script>
        $(function(){
            $("#jumin1").on("keyup", function(){
                numberCheck($(this)); // 선택자 자체를 넘김

                if($(this).val().length == 6){ // 문자열의 길이 가져오는 length (괄호 없음)
                    // 두 번째 박스로 커서 이동
                    $("#jumin2").focus();
                }
            });

            // = $("#jumin2").keyup().blur();
            // = $("#jumin2").on().on();
            $("#jumin2").on({
                keyup : function(){
                    numberCheck($(this)); // jumin2에 해당하는 걸 전달. 함수 재사용
                } ,
                blur : function(){
                    let ch = $(this).val().charAt(0); // index에 있는 문자 하나를 얻어온다
                    console.log("ch = " + ch);
                    if(ch=="1" || ch=="3"){
                        // 남자
                        $("#man").prop("checked", true);
                    } else {
                        $("#woman").prop("checked", true);
                    }
                }
            });

            // 숫자유무 체크하는 함수
            function numberCheck(obj){ // obj = $(this)
                let v = obj.val(); // 입력한 글자

                if(isNaN(v)){
                    console.log("숫자가 아닙니다.");
                    // 문자열의 마지막 글자를 빼고 나머지 글자를 text에 넣는다 - 여러 가지 방법이 있음
                    let sliceV = v.substr(0, v.length-1); // 0부터 ~개를 자른다
                    obj.val(sliceV);
                }
            }
        });
    </script>

</head>

<body>
  <h1>on 이벤트 </h1>
  <h4>주민번호를 이용한 성별 체크</h4>
  <form>
   주민번호 : 
<input type="text" id="jumin1" size="6"/> - <input type="text" id="jumin2" size="7" /> <p/>
성별 : 
<input type="radio" value="남자" id="man" disabled name="gender" checked="checked"> 남자
<input type="radio" value="여자" id="woman" disabled name="gender"> 여자

</form>
</body>
</html>





